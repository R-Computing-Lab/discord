<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Functions for Discordant Kinship Modeling • discord</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Functions for Discordant Kinship Modeling">
<meta name="description" content="Functions for discordant kinship modeling (and other sibling-based quasi-experimental designs). Contains data restructuring functions and functions for generating biometrically informed data for kin pairs. See [Garrison and Rodgers, 2016 &lt;doi:10.1016/j.intell.2016.08.008&gt;], [Sims, Trattner, and Garrison, 2024 &lt;doi:10.3389/fpsyg.2024.1430978&gt;] for empirical examples, and [Garrison and colleagues for theoretical work &lt;doi.org/10.1101/2025.08.25.25334395&gt;].">
<meta property="og:description" content="Functions for discordant kinship modeling (and other sibling-based quasi-experimental designs). Contains data restructuring functions and functions for generating biometrically informed data for kin pairs. See [Garrison and Rodgers, 2016 &lt;doi:10.1016/j.intell.2016.08.008&gt;], [Sims, Trattner, and Garrison, 2024 &lt;doi:10.3389/fpsyg.2024.1430978&gt;] for empirical examples, and [Garrison and colleagues for theoretical work &lt;doi.org/10.1101/2025.08.25.25334395&gt;].">
<meta property="og:image" content="https://r-computing-lab.github.io/discord/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">discord</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/categorical_predictors.html">Handling categorical predictors with discord</a></li>
    <li><a class="dropdown-item" href="articles/full_data_workflow.html">Full Data Workflow</a></li>
    <li><a class="dropdown-item" href="articles/links.html">No Database? No Problem: Using discord with Simple Family Structures</a></li>
    <li><a class="dropdown-item" href="articles/plots.html">Plots</a></li>
    <li><a class="dropdown-item" href="articles/Power.html">Power</a></li>
    <li><a class="dropdown-item" href="articles/regression.html">NLSY: Regression demonstration with Flu Vaccination and SES data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-Computing-Lab/discord/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="discord">discord<a class="anchor" aria-label="anchor" href="#discord"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p><code>discord</code> is an R package that provides functions for discordant kinship modeling and other sibling-based quasi-experimental designs. It includes functions for data preparation, regression analysis, and simulation of genetically-informed data. The package is designed to facilitate the implementation of discordant sibling designs in research, allowing for the control of shared familial confounding factors.</p>
<p>Visit the <a href="https://r-computing-lab.github.io/discord/">discord website</a> for more information and detailed documentation. Below is a brief overview of the package, its features, and vignettes to get you started.</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>
<strong>Data Preparation</strong>: Functions to prepare and structure data for discordant sibling analysis, including handling of kinship pairs and demographic variables.</li>
<li>
<strong>Regression Analysis</strong>: Tools to perform discordant regression analyses, allowing for the examination of within-family effects while controlling for shared familial confounders.</li>
<li>
<strong>Simulation</strong>: Functions to simulate genetically-informed data, enabling researchers to test and validate their models.</li>
</ul>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<p>The package includes several vignettes to help users understand and utilize its features effectively. These vignettes can be accessed <a href="https://r-computing-lab.github.io/discord/articles/">online</a> or by selecting them from the RStudio “Vignettes” tab after installing the package.</p>
<p>The following vignettes are available:</p>
<ul>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/Power.html">Power Analysis with discord</a>
<ul>
<li>Use this vignette when you need to plan sample sizes or evaluate detectability by running simulation grids that vary effect sizes, kin types, and Ns using kinsim, then re-fitting discord_regression under each condition. It reports empirical power, writes tidy summaries, and includes code to visualize power curves across conditions to support design decisions.</li>
</ul>
</li>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/regression.html">Regression Analysis with discord</a>
<ul>
<li>Use this if you want an end-to-end applied example that links NLSY79 relatives, cleans variables for flu vaccination and SES, constructs dyads, and then fits within-family models. You will learn how to specify discord_regression correctly and interpret coefficients when predictors vary within pairs versus only between pairs.</li>
</ul>
</li>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/categorical_predictors.html">Handling Categorical Predictors</a>
<ul>
<li>This vignette formalizes categorical predictors in discord designs by separating mixed from between-dyad variables and making the implied contrasts explicit. It implements binary-match and multi-category match encodings on concrete examples (e.g., sex, race), fits the corresponding discord_regression specifications, and contrasts estimates to show how encoding choices change interpretation.</li>
</ul>
</li>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/full_data_workflow.html">Full Data Workflow</a>
<ul>
<li>Starting from raw wide and long person-level inputs, this vignette builds kin links, aligns IDs, and constructs the discord_data object with sibling-specific columns ready for modeling. It then fits a conventional between-family regression alongside a discord model on the same variables, so you can see where the within-family estimate diverges and adopt the pipeline as a template.</li>
</ul>
</li>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/plots.html">Creating Plots</a>
<ul>
<li>This vignette takes fitted discord_regression outputs and produces publication-ready ggplot figures of effect estimates and within-family contrasts with minimal transformation of the model results. It includes complete plotting code paths you can reuse, from extracting estimates to saving figures that clearly communicate within-family findings.</li>
</ul>
</li>
<li>
<a href="https://r-computing-lab.github.io/discord/articles/links.html">No Database? No Problem: Using discord with Simple Family Structures</a>
<ul>
<li>This vignette is particularly useful for situations when you do not have existing kinship links and need to build link tables directly from simple family identifiers. It shows how to construct the links, optionally simulate phenotypes under specified structures, and fit discord_regression with alternative specifications for small or bespoke datasets.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="external-reproducible-examples">External Reproducible Examples<a class="anchor" aria-label="anchor" href="#external-reproducible-examples"></a>
</h2>
<p>Beyond the vignettes, you can find additional examples that fully reproduce analyses from our other publications (Garrison et al 2025, etc). These examples can be accessed via the following links:</p>
<ul>
<li>National Longitudinal Survey of Youth (NLSY) dataset
<ul>
<li><p><a href="https://github.com/R-Computing-Lab/Project_AFI_Intelligence" class="external-link">Intelligence</a>: Reproduces Garrison, S. M., &amp; Rodgers, J. L. (2016). Casting doubt on the causal link between intelligence and age at first intercourse: A cross-generational sibling comparison design using the NLSY. Intelligence, 59, 139-156. <a href="https://doi.org/10.1016/j.intell.2016.08.008" class="external-link uri">https://doi.org/10.1016/j.intell.2016.08.008</a></p></li>
<li><p><a href="https://github.com/R-Computing-Lab/Sims-et-al-2024" class="external-link">Frontiers</a>: Reproduces Sims, E. E., Trattner, J. D., &amp; Garrison, S. M. (2024). Exploring the relationship between depression and delinquency: a sibling comparison design using the NLSY. Frontiers in psychology, 15, 1430978. <a href="https://doi.org/10.3389/fpsyg.2024.1430978" class="external-link uri">https://doi.org/10.3389/fpsyg.2024.1430978</a></p></li>
<li><p><a href="https://github.com/R-Computing-Lab/target-causalclaims" class="external-link">AMPPS</a>: Reproduces analyses from Garrison et al 2025, using <code>targets</code> for workflow management. Garrison, S. M., Trattner, J. D., Lyu, X., Prillaman, H. R., McKinzie, L., Thompson, S. H. E., &amp; Rodgers, J. L. (2025). Sibling Models Can Test Causal Claims without Experiments: Applications for Psychology. <a href="https://doi.org/10.1101/2025.08.25.25334395" class="external-link uri">https://doi.org/10.1101/2025.08.25.25334395</a></p></li>
</ul>
</li>
<li>China Family Panel Studies (CFPS) dataset
<ul>
<li>
<a href="https://github.com/R-Computing-Lab/discord_CFPS" class="external-link">AMPPS</a>: Reproduces analyses from the China Family Panel Studies (CFPS) dataset, focusing on the association between adolescent depression and math achievement.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the official version from CRAN</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install/update discord with the release version from CRAN.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'discord'</span><span class="op">)</span></span></code></pre></div>
<p>You can also install/update discord with the development version of discord from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If devtools is not installed, uncomment the line below.</span></span>
<span><span class="co"># install.packages('devtools')</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'R-Computing-Lab/discord'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use <code>discord</code> in your research or wish to refer to it, please cite the following paper:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">citation</span>(<span class="at">package =</span> <span class="st">"discord"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>To cite package <span class="st">'discord'</span> <span class="cf">in</span> publications use<span class="sc">:</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  Garrison S, Trattner J, Hwang <span class="fu">Y</span> (????). _discord<span class="sc">:</span> Functions <span class="cf">for</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  Discordant Kinship Modeling_. R package version <span class="dv">1</span>.<span class="dv">2</span>.<span class="fl">4.1</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="sc">&lt;</span>https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>R<span class="sc">-</span>Computing<span class="sc">-</span>Lab<span class="sc">/</span>discord<span class="sc">&gt;</span>.</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>A BibTeX entry <span class="cf">for</span> LaTeX users is</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>  <span class="sc">@</span>Manual{,</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    title <span class="ot">=</span> {discord<span class="sc">:</span> Functions <span class="cf">for</span> Discordant Kinship Modeling},</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    author <span class="ot">=</span> {S. Mason Garrison and Jonathan Trattner and Yoo Ri Hwang},</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    note <span class="ot">=</span> {R package version <span class="dv">1</span>.<span class="dv">2</span>.<span class="fl">4.1</span>},</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>    url <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>R<span class="sc">-</span>Computing<span class="sc">-</span>Lab<span class="sc">/</span>discord},</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>  }</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions to the <code>discord</code> project are welcome. For guidelines on how to contribute, please refer to the <a href="https://github.com/R-Computing-Lab/discord/blob/main/CONTRIBUTING.md" class="external-link">Contributing Guidelines</a>. Issues and pull requests should be submitted on the GitHub repository. For support, please use the GitHub issues page.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><code>discord</code> is licensed under the GNU General Public License v3.0. For more details, see the <a href="https://github.com/R-Computing-Lab/discord/blob/main/LICENSE" class="external-link">LICENSE</a> file.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=discord" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/R-Computing-Lab/discord/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing discord</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>S. Mason Garrison <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-4804-6003" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Jonathan Trattner <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1097-7603" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Yoo Ri Hwang <br><small class="roles"> Author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://r-computing-lab.github.io/discord/"><img src="reference/figures/logo.png" alt="discord website" align="right" height="139"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://cran.r-project.org/package=discord" class="external-link"><img src="https://www.r-pkg.org/badges/version/discord" alt="R package version"></a></li>
<li><a href="https://cran.r-project.org/package=discord" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/discord" alt="Package downloads"></a></li>
<li><a href="https://github.com/R-Computing-Lab/discord/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/R-Computing-Lab/discord/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/R-Computing-Lab/discord/actions/workflows/R-CMD-dev_check.yaml" class="external-link"><img src="https://github.com/R-Computing-Lab/discord/actions/workflows/R-CMD-dev_check.yaml/badge.svg" alt="Dev Main branch"></a></li>
<li><a href="https://app.codecov.io/gh/R-Computing-Lab/discord" class="external-link"><img src="https://codecov.io/gh/R-Computing-Lab/discord/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by S. Mason Garrison, Jonathan Trattner, Yoo Ri Hwang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
